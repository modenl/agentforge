# ğŸ‰ é¡¹ç›®é‡æ„å®Œæˆæ€»ç»“

## âœ… é‡æ„æˆæœ

æˆ‘ä»¬æˆåŠŸå°† Screen Control Agents é¡¹ç›®é‡æ„ä¸º**åŸºç¡€æ¶æ„**å’Œ**ä¸šåŠ¡é€»è¾‘**å®Œå…¨åˆ†ç¦»çš„
æ¨¡å—åŒ–æ¶æ„ï¼

### ğŸ“ æ–°çš„é¡¹ç›®ç»“æ„

```
screencontrolagents/
â”œâ”€â”€ framework/                          # ğŸ”§ åŸºç¡€æ¶æ„ (å¯å¼€æº)
â”‚   â”œâ”€â”€ core/                          # æ ¸å¿ƒå¼•æ“
â”‚   â”‚   â”œâ”€â”€ app-manager.js             # âœ… åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
â”‚   â”‚   â”œâ”€â”€ core-agent.js              # âœ… é€šç”¨AIä»£ç†å¼•æ“
â”‚   â”‚   â”œâ”€â”€ ai-client-factory.js       # âœ… AIå®¢æˆ·ç«¯æŠ½è±¡å±‚
â”‚   â”‚   â”œâ”€â”€ mcp-executor.js            # âœ… MCPæ‰§è¡Œå™¨åŸºç±»
â”‚   â”‚   â””â”€â”€ logger.js                  # âœ… æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ renderer/                      # å‰ç«¯æ¡†æ¶
â”‚   â”‚   â””â”€â”€ components/                # âœ… é€šç”¨UIç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ ChatWindow.svelte      # é€šç”¨èŠå¤©çª—å£
â”‚   â”‚       â”œâ”€â”€ AdaptiveCardPanel.svelte # è‡ªé€‚åº”å¡ç‰‡æ˜¾ç¤º
â”‚   â”‚       â””â”€â”€ BaseApp.svelte         # åº”ç”¨åŸºç±»
â”‚   â”œâ”€â”€ config/                        # æ¡†æ¶é…ç½®
â”‚   â”‚   â”œâ”€â”€ framework-config.js        # âœ… æ¡†æ¶é»˜è®¤é…ç½®
â”‚   â”‚   â””â”€â”€ base-prompt.md             # âœ… é€šç”¨ç³»ç»Ÿæç¤ºè¯
â”‚   â”œâ”€â”€ index.js                       # âœ… æ¡†æ¶ä¸»å…¥å£
â”‚   â””â”€â”€ package.json                   # âœ… æ¡†æ¶ä¾èµ–
â”œâ”€â”€ plugins/                           # ğŸ”Œ ä¸šåŠ¡æ’ä»¶ç›®å½•
â”‚   â””â”€â”€ game-time-manager/             # æ¸¸æˆæ—¶é—´ç®¡ç†æ’ä»¶
â”‚       â”œâ”€â”€ mcp-actions/               # âœ… å…·ä½“MCPå®ç°
â”‚       â”‚   â”œâ”€â”€ chrome-controller.js   # Chromeæ§åˆ¶
â”‚       â”‚   â”œâ”€â”€ game-launcher.js       # æ¸¸æˆå¯åŠ¨
â”‚       â”‚   â”œâ”€â”€ system-monitor.js      # ç³»ç»Ÿç›‘æ§
â”‚       â”‚   â””â”€â”€ notification.js        # é€šçŸ¥ç³»ç»Ÿ
â”‚       â”œâ”€â”€ prompts/                   # âœ… ä¸šåŠ¡æç¤ºè¯
â”‚       â”‚   â””â”€â”€ business-prompt.md     # ä¸šåŠ¡é€»è¾‘æç¤ºè¯
â”‚       â”œâ”€â”€ config/                    # âœ… ä¸šåŠ¡é…ç½®
â”‚       â”‚   â””â”€â”€ plugin-config.js       # æ’ä»¶ç‰¹å®šé…ç½®
â”‚       â””â”€â”€ plugin.js                  # âœ… æ’ä»¶å…¥å£ç‚¹
â”œâ”€â”€ apps/                              # ğŸš€ åº”ç”¨å®ä¾‹
â”‚   â””â”€â”€ game-time-manager/             # å…·ä½“åº”ç”¨å®ä¾‹
â”‚       â”œâ”€â”€ main.js                    # âœ… åº”ç”¨ä¸»å…¥å£
â”‚       â””â”€â”€ config/                    # åº”ç”¨é…ç½®
â”œâ”€â”€ examples/                          # ğŸ“š ç¤ºä¾‹åº”ç”¨
â”‚   â””â”€â”€ basic-chat-app/                # âœ… åŸºç¡€èŠå¤©åº”ç”¨ç¤ºä¾‹
â”‚       â””â”€â”€ main.js                    # åŸºç¡€èŠå¤©ç¤ºä¾‹
â””â”€â”€ restructure-plan.md                # âœ… é‡æ„è®¡åˆ’æ–‡æ¡£
```

## ğŸ”§ åŸºç¡€æ¶æ„ç»„ä»¶

### âœ… å·²å®Œæˆçš„æ ¸å¿ƒç»„ä»¶

1. **AppManager** (`framework/core/app-manager.js`)

   - Electron åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
   - æ’ä»¶åŠ è½½å’Œåˆå§‹åŒ–
   - IPC é€šä¿¡è®¾ç½®
   - çª—å£ç®¡ç†

2. **CoreAgent** (`framework/core/core-agent.js`)

   - AI ä»£ç†æ ¸å¿ƒå¼•æ“
   - çŠ¶æ€ç®¡ç†æŠ½è±¡
   - æç¤ºè¯æ³¨å…¥æœºåˆ¶
   - å“åº”è§£ææ¡†æ¶

3. **MCPExecutor** (`framework/core/mcp-executor.js`)

   - MCP åŠ¨ä½œæ‰§è¡ŒåŸºç±»
   - æƒé™éªŒè¯æ¡†æ¶
   - å‚æ•°éªŒè¯æœºåˆ¶
   - æ’ä»¶åŠ¨ä½œæ³¨å†Œ

4. **AIClientFactory** (`framework/core/ai-client-factory.js`)

   - å¤š LLM æœåŠ¡æ”¯æŒ
   - ç»Ÿä¸€ API æ¥å£
   - æµå¼å“åº”å¤„ç†
   - é”™è¯¯å¤„ç†å’Œé‡è¯•

5. **é€šç”¨ UI ç»„ä»¶** (`framework/renderer/components/`)
   - ChatWindow: èŠå¤©ç•Œé¢æ¡†æ¶
   - AdaptiveCardPanel: è‡ªé€‚åº”å¡ç‰‡æ¸²æŸ“å™¨
   - BaseApp: åº”ç”¨åŸºç¡€å¸ƒå±€

## ğŸ”Œ æ’ä»¶ç³»ç»Ÿ

### âœ… å·²å®ç°çš„æ’ä»¶æ¶æ„

1. **æ’ä»¶æ¥å£è§„èŒƒ**

   ```javascript
   class Plugin extends BasePlugin {
     async initialize() {}
     registerMCPActions() {
       return {};
     }
     getBusinessPrompt() {
       return '';
     }
     getConfig() {
       return {};
     }
   }
   ```

2. **æ¸¸æˆæ—¶é—´ç®¡ç†æ’ä»¶** (`plugins/game-time-manager/`)
   - å®Œæ•´çš„ MCP åŠ¨ä½œå®ç°
   - ä¸šåŠ¡ç‰¹å®šçš„æç¤ºè¯
   - è¯¦ç»†çš„æ’ä»¶é…ç½®
   - æ¨¡å—åŒ–çš„åŠ¨ä½œå¤„ç†å™¨

## ğŸš€ åº”ç”¨å®ä¾‹

### âœ… å®Œæ•´çš„åº”ç”¨æ¶æ„

1. **æ¸¸æˆæ—¶é—´ç®¡ç†åº”ç”¨** (`apps/game-time-manager/`)

   - åŸºäºæ¡†æ¶çš„åº”ç”¨å…¥å£
   - æ’ä»¶ç³»ç»Ÿé›†æˆ
   - é…ç½®ç®¡ç†
   - é”™è¯¯å¤„ç†

2. **åŸºç¡€èŠå¤©åº”ç”¨ç¤ºä¾‹** (`examples/basic-chat-app/`)
   - ç®€å•çš„èŠå¤©åŠŸèƒ½
   - æ¼”ç¤ºæ¡†æ¶ä½¿ç”¨æ–¹æ³•
   - ç¤ºä¾‹æ’ä»¶å®ç°

## ğŸ¯ é‡æ„æ”¶ç›Š

### å¯¹äºæ¡†æ¶å¼€å‘è€…

- âœ… **å¯å¤ç”¨æ€§**: åŸºç¡€æ¶æ„å¯ç”¨äºå¤šç§åº”ç”¨åœºæ™¯
- âœ… **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„ä»£ç åˆ†ç¦»å’Œæ¨¡å—åŒ–
- âœ… **å¯æ‰©å±•æ€§**: æ’ä»¶ç³»ç»Ÿæ”¯æŒåŠŸèƒ½æ‰©å±•
- âœ… **å¼€æºå‹å¥½**: æ¡†æ¶éƒ¨åˆ†å¯ä»¥å¼€æºå…±äº«

### å¯¹äºåº”ç”¨å¼€å‘è€…

- âœ… **å¿«é€Ÿå¼€å‘**: åŸºäºæ¡†æ¶å¿«é€Ÿæ„å»º AI åº”ç”¨
- âœ… **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„å¼€å‘æ¨¡å¼å’Œæœ€ä½³å®è·µ
- âœ… **ä¸“æ³¨ä¸šåŠ¡**: ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘è€ŒéåŸºç¡€è®¾æ–½
- âœ… **ç¤¾åŒºæ”¯æŒ**: å…±äº«æ’ä»¶å’Œç»„ä»¶ç”Ÿæ€

### å¯¹äºæœ€ç»ˆç”¨æˆ·

- âœ… **æ›´å¥½ä½“éªŒ**: ä¸“ä¸šçš„ UI å’Œäº¤äº’è®¾è®¡
- âœ… **æ›´é«˜ç¨³å®šæ€§**: ç»è¿‡å……åˆ†æµ‹è¯•çš„åŸºç¡€æ¶æ„
- âœ… **æ›´å¼ºåŠŸèƒ½**: ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿ
- âœ… **æ›´å¥½æ€§èƒ½**: ä¼˜åŒ–çš„æ ¸å¿ƒå¼•æ“

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### åˆ›å»ºæ–°åº”ç”¨

1. **ä½¿ç”¨æ¡†æ¶åˆ›å»ºåº”ç”¨**

   ```javascript
   const { Framework } = require('./framework');
   const MyPlugin = require('./my-plugin');

   const app = new Framework({
     appName: 'My App',
     plugins: [MyPlugin]
   });

   await app.initialize();
   await app.createMainWindow();
   ```

2. **åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶**

   ```javascript
   const { BasePlugin } = require('./framework');

   class MyPlugin extends BasePlugin {
     registerMCPActions() {
       return {
         my_action: this.handleMyAction.bind(this)
       };
     }

     getBusinessPrompt() {
       return 'My business logic prompt...';
     }
   }
   ```

### è¿è¡Œç¤ºä¾‹åº”ç”¨

1. **åŸºç¡€èŠå¤©åº”ç”¨**

   ```bash
   cd examples/basic-chat-app
   npm install
   npm start
   ```

2. **æ¸¸æˆæ—¶é—´ç®¡ç†åº”ç”¨**
   ```bash
   cd apps/game-time-manager
   npm install
   npm start
   ```

## ğŸ”„ ä¸‹ä¸€æ­¥è®¡åˆ’

### æ¡†æ¶å®Œå–„

- [ ] æ·»åŠ  TypeScript ç±»å‹å®šä¹‰
- [ ] å®Œå–„ UI ç»„ä»¶åº“
- [ ] æ·»åŠ çŠ¶æ€ç®¡ç†ç³»ç»Ÿ
- [ ] å®ç°æ’ä»¶çƒ­é‡è½½

### æ’ä»¶ç”Ÿæ€

- [ ] åˆ›å»ºæ›´å¤šç¤ºä¾‹æ’ä»¶
- [ ] å»ºç«‹æ’ä»¶å¸‚åœº
- [ ] ç¼–å†™æ’ä»¶å¼€å‘æŒ‡å—
- [ ] æä¾›æ’ä»¶æ¨¡æ¿

### æ–‡æ¡£å’Œå·¥å…·

- [ ] å®Œæ•´çš„ API æ–‡æ¡£
- [ ] å¼€å‘è€…æŒ‡å—
- [ ] æœ€ä½³å®è·µæ–‡æ¡£
- [ ] CLI å·¥å…·é›†

## ğŸŠ ç»“è®º

é€šè¿‡è¿™æ¬¡é‡æ„ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å°† Screen Control Agents è½¬å˜ä¸ºä¸€ä¸ªå¼ºå¤§ã€çµæ´»ä¸”å¯å¤ç”¨çš„
AI åº”ç”¨å¼€å‘æ¡†æ¶ã€‚ç°åœ¨ä»»ä½•å¼€å‘è€…éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¡†æ¶å¿«é€Ÿæ„å»ºè‡ªå·±çš„ AI é©±åŠ¨çš„æ¡Œé¢åº”
ç”¨ï¼Œè€Œä¸éœ€è¦ä»é›¶å¼€å§‹å»ºè®¾åŸºç¡€æ¶æ„ã€‚

**æ¡†æ¶çš„æ ¸å¿ƒä»·å€¼**ï¼š

- ğŸ—ï¸ **ç»Ÿä¸€æ¶æ„**: æ ‡å‡†åŒ–çš„ AI åº”ç”¨å¼€å‘æ¨¡å¼
- ğŸ”Œ **æ’ä»¶åŒ–**: çµæ´»çš„ä¸šåŠ¡é€»è¾‘æ‰©å±•æœºåˆ¶
- ğŸš€ **å¿«é€Ÿå¼€å‘**: å¼€ç®±å³ç”¨çš„æ ¸å¿ƒåŠŸèƒ½
- ğŸŒ **å¼€æºç”Ÿæ€**: å¯å…±äº«çš„ç»„ä»¶å’Œæ’ä»¶

è¿™ä¸ªé‡æ„ä¸º AI åº”ç”¨å¼€å‘é¢†åŸŸæä¾›äº†ä¸€ä¸ªæ–°çš„æ ‡å‡†å’Œå·¥å…·é›†ï¼Œè®©æ›´å¤šå¼€å‘è€…èƒ½å¤Ÿè½»æ¾æ„å»ºå¼º
å¤§çš„ AI é©±åŠ¨åº”ç”¨ï¼
